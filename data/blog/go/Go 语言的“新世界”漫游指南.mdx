---
title: '你好，Gopher！一份来自 Go 语言的“新世界”漫游指南'
summary: '这是一次前端开发者对Go语言的探索之旅。让我们一起踏上这段旅程，发现Go语言的魅力所在！'
date: '2025-07-07'
tags: ['go']
draft: true
---

> _一位前端er的Go语言探索之旅_

---

# 前言

本文非入门教程，非技术文档，非专业gopher编写（励志成为!），仅仅是一次前端开发者对Go语言的探索之旅。记录下一个月以来个人学习中认为较为重要‼️或者有趣🤔的部分。Let's go!

# 类型

Go语言的类型系统与JavaScript（JS）有很大不同。**Go语言是一种静态类型语言，而JS是动态类型语言**。这意味着在Go中，变量的类型在编译时就确定了(值还是在运行时确定的)，而在JS中，变量的类型可以在运行时改变。

强类型的语言，类型系统是非常非常之重要‼️，务必理解透彻。

## 基本类型

与JS相比，go语言的基本类型很简单就三种，数字、布尔和字符串。然而却也有大不同：

- **数字**：Go语言的数字类型足足有15种～。并且与JS的number不同，Go语言的数字类型是强类型的，不能自动转换。
- **布尔**：Go语言的布尔类型只有两个值：true和false。与JS的布尔类型相似，但Go语言不允许将非布尔值隐式转换为布尔值。
- **字符串**：Go语言的字符串是不可变的，与JS的字符串相似。但go语言字符串的操作依赖标准库`strings`，如`strings.Contains()`、`strings.Split()`等。
    - `len(string)`，返回字符串的字节长度，而不是字符数。
    - `utf8.RuneCountInString(string)`，返回字符数

## 复合类型

TODO

## 底层类型

---

# 其他

## uint、int、uintptr

大小取决于操作系统的位数，32位系统为4字节，64位系统为8字节。

- **uint**：无符号整数类型，取值范围从0到2^n-1（n为位数）。
- **int**：有符号整数类型，取值范围从-2^(n-1)到2^(n-1)-1。
- **uintptr**：无符号整数类型，用于存储指针的整数表示。它的大小与指针的大小相同。

## 位运算的不同

1. 与JS的位运算符不同，Go语言的位运算符是强类型的，不能直接对非整数类型进行位运算。
2. Go语言的位运算符比较特殊的是 `^`，它作为一元运算符使用时表示按位取反，与JS的`~`类似；作为二元运算符使用时仍表示按位异或。
3. Go语言内置了清位运算符 `&^`，用于清除左侧对应右侧二进制为1的位置为0，`A &^ B` 等价于 `A & ^B`。这在JS中没有直接对应的运算符。
4. Go语言没有`>>>`（无符号右移）运算符，只有`>>`（有符号右移）运算符。因为Go有无符号的数字类型。
5. Go中，**移位运算符的优先级与乘法/除法相同**，高于加法/减法。而 JS 中，移位运算符的优先级低于加法/减法。
6. Go中**移位操作数必须是整数**，并且受**移位计数为常量还是变量**的影响。**常量在编译时就确定了值，而变量在编译时只能确定类型，运行时才确定值。**

    ```Go
    const n = 2             // n 是一个常量
    var m uint = 2          // m 是一个变量
    var _ float64 = 1 << n. // 等价于 var _ = float64(4)
    var _ float64 = 1 << m  // 等价于 var _ = float64(1) << m, error报错 左侧必须是整数类型

    // 另外一个例子
    const n = uint(8)
    var m = uint(8)

    var a byte = 1 << n / 128
    var b byte = 1 << m / 128

    fmt.Println(a) // 2  等价于byte(2)
    fmt.Println(b) // 0 // byte(1) << m / 128 = 0
    // 因为 1 << m 的结果是 uint(256)，而 byte 的最大值是 255，所以会发生溢出，导致结果为 0。
    ```

> 其他位运算基础知识可以看这里 [js的位操作](https://www.twotwoba.site/blog/algorithm/bit-operation)

## i++，i--

Go语言中只有 `i++` 和 `i--` 这两种自增自减操作符，没有 `++i` 和 `--i`。**并且没有返回值，不能当作表达式使用！**

```Go
func main() {
    i := 0
    i++
    fmt.Println(i++) // 1
    i--
    fmt.Println(i--) // 0
}
```
